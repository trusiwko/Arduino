# Работа с потенциометром

Потенциометр - это переменный резистор, выступает в качестве делителя напряжения ([подробнее](http://wiki.amperka.ru/%D1%81%D1%85%D0%B5%D0%BC%D0%BE%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B0:%D0%B4%D0%B5%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C-%D0%BD%D0%B0%D0%BF%D1%80%D1%8F%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)). Имеет три ноги - при соединении крайних ног с источником напряжения и землей, на средней ноге получаем напряжение от 0 до максимального в источнике.

## Задание 1. Управляем яркостью светодиода с помощью потенциометра.
Соединяем потенциометр и светодиод с резистором по схеме:
![Demo1](https://github.com/trusiwko/Arduino/raw/master/eKids/Lesson5/demo1.gif)

## Задание 2. Включам светодиоды в зависимости от положения ручки потенциометра.
Ход потенциометра делим на три части. Если ручка находится в первой трети - должен гореть первый светодиод, если во второй - то второй, если в третьей - то третий.
Для решения задачи нам необходимо считывать показания потенциометра, т.к. мы подаем на него 5В, то и показания потенциометра будут в пределах от 0 до 5В. Т.е. мы рассматриваем потенциометр как датчик.
Для считывания показания с датчиков в ардуино мы используем функцию 
```C++
v = analogRead(PIN);
```
Ардуино имеет 6 аналоговых пинов, которые позволяют считывать показания с датчиков. Пины имеют номера с A0 по A5. Функция возвращает число от 0 до 1023 (5В).
Таким образом делим наш отрезок от 0 до 1023 на три интервала: от 0 до 341, от 342 до 682 и от 683 до 1023.
Назовем переменную pot, и напишем условия:
```C++
if (pot >= 0 and pot <= 341) { ...
if (pot >= 342 and pot <= 682) { ...
if (pot >= 683 and pot <= 1023) {...
```
Так как на вход всегда приходит число больше или равно нуля, то условие pot >= 0 можно убрать.
Аналогично всегда приходит число меньше 1024, поэтому последнее условие можно также убрать.

Зажигать светодиоды будем с помощью ардуино, подсоединим их к пинам с 8 по 10 и воспользуемся уже знакомой digitalWrite(PIN, HIGH).
Остальные светодиоды будем выключать (иначе они так и останутся гореть при перемещении ручки потенциометра).

```C++
int pot;

void setup()
{
  pinMode(A0, INPUT);
  pinMode( 8, OUTPUT);
  pinMode( 9, OUTPUT);
  pinMode(10, OUTPUT);
}

void loop()
{
  pot = analogRead(A0);
  if (pot <= 341) { 
    digitalWrite(8, HIGH); 
  } else {
    digitalWrite(8, LOW); 
  }
  if ((pot >= 342) and (pot <= 682)) { 
    digitalWrite(9, HIGH); 
  } else {
    digitalWrite(9, LOW); 
  }
  if (pot >= 683) { 
    digitalWrite(10, HIGH); 
  } else {
    digitalWrite(10, LOW); 
  }
  delay(10);
}
```
![Demo2](https://github.com/trusiwko/Arduino/raw/master/eKids/Lesson5/demo2.gif)
